"use strict";$(document).ready(function(){$('[name="search"]').on("change",function(){var u=$(this).val();var v=$(this).parents("div.container").find("section.list > article");$.each(v,function(z,A){if(u.length>0){var y=u.toLowerCase();var x=A.innerHTML.toLowerCase();var w=x.indexOf(y);if(w>0){A.className="span6"}else{if(w<=0){A.className="span6 hidden"}}}else{A.className="span6"}})});var g="";var i="";var s="";var m="";var r="";var c="";var b="";var k="";$('input[name="filter"]').change(function(){var u=$(this);var v=u.val();if(u.is(":checked")){g=v}});$('[name="rooms_number"]').change(function(){var u=$(this);i=u.val()});$('input[name="location"]').change(function(){var u=$(this);var v=u.val();if(u.is(":checked")){s=v+","+s}else{s=s.replace(v+",","")}});$('input[name="price_from"]').change(function(){var u=$(this);r=u.val()});$('input[name="price_to"]').change(function(){var u=$(this);c=u.val()});$('input[name="type"]').change(function(){var u=$(this);b=u.val()});$('input[name="category"]').change(function(){var u=$(this);var v=u.val();if(u.is(":checked")){k=v+","+k}else{k=k.replace(v+",","")}});$('form[name="form-filters"]').submit(function(v){v.preventDefault();var u=$(this);if(g){g="filter="+g}else{g=""}if(i){i="&rooms_number="+i}else{i=""}if(s){s="&locations="+s;s=s.substring(0,s.length-1)}else{s=""}if(c||r){m="&price="+r+"-"+c}else{m=""}if(k){k="&categories="+k;k=k.substring(0,k.length-1)}else{k=""}if(b){b="&type="+b}else{b=""}var w=g+i+s+m+k+b;document.location="/properties?"+w});var q=$('[data-order="item"]');var e=$('[data-order="list"]');var f=$('[data-order="module"]');e.on("click",function(){q.addClass("list");e.addClass("view");f.removeClass("view")});f.on("click",function(){q.removeClass("list");e.removeClass("view");f.addClass("view")});var d=$("div.main");var j=$("div.ask");var h=$('[data-action="openAsk"]');var l=$('[data-action="closeAsk"]');h.on("click",function(){d.toggleClass("close");j.toggleClass("view")});l.on("click",function(){d.toggleClass("close");j.toggleClass("view")});var a=$('[data-modal-target-destination="sendEmail"]');var t=a.find('[data-action-modal="sendEmail"]');var p=a.find('form[name="sendEmail"]');t.on("click",function(){p.submit()});p.submit(function(v){v.preventDefault();var u=p.serialize();$.ajax({url:"",type:"POST",data:u+"&action=sendInformationProperty",processData:false,cache:false,dataType:"json",success:function(w){if(w.status=="success"){$(".error > p").html('<img src="images/gif-load.gif" style="width: 25px;"/>');$(".error").addClass("view");t.parent().remove();location.reload()}if(w.status=="error"){$(".error > p").html(w.message);$(".error").addClass("view")}}})});var n=$('[data-action="ask"]');var o=$('form[name="ask"]');n.on("click",function(){o.submit()});o.submit(function(v){v.preventDefault();var u=o.serialize();$.ajax({url:"",type:"POST",data:u+"&action=interestedProperty",processData:false,cache:false,dataType:"json",success:function(w){if(w.status=="success"){if(w.path=="reload"){$("p.error").html('<img src="images/gif-load.gif" style="width: 25px;"/>');$("p.error").html(w.message);$("p.error").parent().show();n.parent().remove()}else{window.location.href=w.path}}if(w.status=="error"){$("p.error").html(w.message);$("p.error").parent().show()}}})})});